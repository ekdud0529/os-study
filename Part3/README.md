# 김다영

### 6장

### race condition (경쟁 상황)이란 뭔가요?
> 여러 개의 프로세스가 동시에 동일한 자료에 접근해 조작하고, 접근이 발생한 특정 순서에 따라 실행 결과가 바뀌는 상황입니다.

### 임계구역이란?
> 각 프로세스 별로 포함하고 있는 코드 집합으로, 하나 이상의 다른 프로세스와 공유하는 데이터에 접근하고 갱신할 수 있는 부분입니다.

### 임계구역에서 경쟁 상황을 해결하기 위한 해결책은 무엇인가요?
> 한 번에 하나의 프로세스만 임계구역에서 활성화 되도록 해야합니다. (상호배제)
> 또 프로그램들이 다음에 어떤 프로세스가 임계구역에 들어갈 것인지 협력적으로 결정하게 해야합니다. (진행)
> 임계구역에 들어가기 전에 대기하는 시간도 제한해야 합니다. (한정된 대기)

### 메모리 장벽은 무엇입니까?
> 컴퓨터 아키텍처에서 메모리의 모든 변경 사항을 다른 모든 프로세서로 전파해, 다른 프로세서에서 실행중인 스레드에 메모리 변경사항이 보이는 것을 보장하는 명령어입니다.

### Mutext Lock에 대해 설명하세요
> 프로세스가 임계구역에 들어가기 전엔 무조건 lock을 획득해야 하고, 빠져나올 땐 lock을 반환하는 방식으로 동작해 상호 배제를 할 수 있는 기법입니다.

### Mutext Lock의 단점은?
> 한 프로세스가 임계구역에 있는 동안, 임계 구역에 들어가기 원하는 다른 프로세스들은 acquire() 함수를 호출하는 반복문을 실행하는 바쁜 대기를 해야 하는 단점이 있습니다.

### 세마포어란?
> mutext lock과 유사하 동작하지만, 이진 값을 가지는 mutext의 lock과 달리 세마포어 변수는 정수값을 가져, 더 복잡한 동기화를 수행할  있습니다.
> 또 바쁜 대기를 하는 뮤텍스락과 달 wait() 명령어를 사용해 바쁜 대기 대신 프로세스를 중지시킵니다.

### 라이브니스란?
> 프로세스가 실행 생명주기 동안 진행되는 것을 보장하기 위해 시스템이 충족해야하는 일련의 속성이다.

### 8장

### 데드락이란?
> 두 개 이상의 프로세스들이, 오로지 대기중인 프로세스들 하나에 의해서만 야기될 수 있는 이벤트를 무한정 기다리는 상황이 발생했을 때 이 프로세스들이 교착상태라고 합니다.

### 프로세스가 자원을 사용하는 순서를 설명해보세요.
> 처음에 필요한 자원을 요청하고, 즉시 허용되지 않으면 될 때까지 대기합니다. 이후 할당받으면 작업을 수행하고, 작업이 끝나면 자원을 방출합니다. 

### 라이브락?
> 스레드가 실패한 행동을 계속해서 실패할 때 발생하는 라이브니스 장애입니다.

### 교착 상태의 네가지 필요 조건?
> 상호배제, 점유하며 대기, 비선점, 순환 대기

### 교착 상태 예방이란?
> 교착 상태가 발생하기 위한 네 가지 필요 조건들 중 최소 하나가 성립하지 않도록 하는 방법입니다.
> 가장 현실성 있는 것은 순환 대기를 제거하는 것입니다.
> 순환 대기를 제거하는 방법은 모든 자원 유형에 순서를 부여해, 각 프로세스가 열거된 순서대로 오름차순으로 자원 요청하도록 하는 것입니다.
> 다만, 장치 이용률이 저하되고, 시스템 총 처리율이 감소할 수 있습니다.

### 교착 상태 회피란?
> 자원이 어떻게 요청될지에 대한 추가 정보를 제공해, 미래의 교착 상태를 피하고자 스레드 대기 여부를 결정하는 방법입니다.
> 시스템이 어떤 순서로든 스레드들이 요청하는 모든 자원을 교착 상태를 발생시키지 않고, 차례로 모두 할당해 줄 수 있다면 안전 상태라고 하고, 아니라면 불안전 상태라고 하는데 항상 안전 상태를 유지하도록 하는 방법입니다.

### 교착 상태 탐지 알고리즘?
> 실행중인 시스템의 프로세스 및 자원을 평가해 일련의 프로세스가 교착 상태인지 검사하는 알고리즘입니다.

### 교착 상태 회복하는 방법 중 프로세스 종료?
> 교착 상태의 프로세스를 모두 중지하거나, 교착 상태가 제거될 때까지 한 프로세스씩 중지를 시키는 방법이 있습니다.
> 모두 중지 시킨다면, 비용이 크다는 단점이 있고, 하나씩 중지시킨다면, 프로세스가 중지될 때마다 교착 상태 탐지 알고리즘을 호출해서 상당한 오버헤드를 유발할 수 있습니다.

### 교착 상태 회복 방법 중 자원 선점?
> 교착 상태가 깨질 때까지 프로세스로부터 자원을 계속 선점해 다른 프로세스에게 주는 방법입니다.
> 이 때 어떤 프로세스를 종료할지 희생자를 정하고, 데드락이 발생하기 전 상태로 돌려야 합니다. 이 때 계속 같은 프로세스가 희생된다면 기아 문제가 발생할 수 있습니다.

# 조예은
### 협력적 프로세스란?
> 시스템 내에서 실행 중인 다른 프로세스의 실행에 영향을 주거나 받는 프로세스
>
> 데이터를 공유하는 프로세스
    
### 경쟁상황이란?
> 동시에 여러 개의 프로세스가 동일한 자료를 접근하여 조작하고, 그 실행 결과가 접근이 발생한 특정 순서에 의존하는 상황 ⇒ 프로세스 동기화 필요
    
### 임계 구역이란?
> 공유 데이터가 존재하는 프로세스 코드 영역. 동시에 두 개 이상의 프로세스가 진입할 수 없다.
    
### 임계구역 문제를 해결하기 위해 충족해야 하는 세가지 조건에 대해 말해보세요.
> 상호배제 : 프로세스가 자신의 임계구역에서 실행된다면, 다른 프로세스들은 그들 자신의 임계구역에서 실행될 수 없다.
>
> 진행 : 자신의 임계구역에서 실행되는 프로세스가 없고 그들 자신의 임계구역으로 진입하려고 하는 프로세스들이 있다면, 나머지 구역에서 실행 중이지 않은 프로세스들만 다음에 누가 그 임계구역으로 진입할 수 있는지를 결정하는 데 참여할 수 있으며, 이 선택은 무한정 연기될 수 없다.
>
> 한정된 대기 : 프로세스가 자기의 임계구역에 진입하려는 요청을 한 후부터 그 요청이 허용될 때까지 다른 프로세스들이 그들 자신의 임계구역에 진입하도록 허용되는 횟수에 한계가 있어야 한다.
    
### 뮤텍스 락에 대해 설명해주세요
> 임계구역을 보호하고 경쟁 조건을 방지하기 위해 사용
>
> 프로세스는 임계구역에 들어가기 전 반드시 락을 획득해야하고, 임계구역을 빠져나올 때 락을 반환해야 한다.
>
> 단점은 프로세스가 임계구역에 있는 동안 임계구역에 들어가려는 다른 프로세스들은 락을 획득하기 위해 반복문을 계속 실행하여 바쁜 대기 상태가 된다는 것이다.
    
### 세마포어에 대해 설명해주세요
> 임계구역을 보호하기 위한 도구
>
> 한 스레드가 세마포어 값을 변경하면 다른 어떤 스레드도 동시에 동일한 세마포어 값을 바꿀 수 없다. 
>
> 이진 세마포어와 카운팅 세마포어가 있으며 이진 세마포어의 값은 0과 1만 가져 뮤텍스 락과 유사하게 동작하고, 카운팅 세마포어의 값은 제한이 없으며 사용 가능한 자원의 개수로 초기화된다. 따라서 세마포어의 값이 0이면 모든 자원이 사용 중임을 나타낸다.
    
### 세마포어의 바쁜 대기 문제 해결 방법
> 세마포어에 대한 대기 큐를 만들어 임계 구역에 들어가기 위해 대기해야 하는 프로세스들을 wiat 상태로 전환하여 CPU 자원을 다른 프로세스가 사용할 수 있도록 한다. 
    
###  라이브니스란?
> 프로세스가 실행 수명주기 동안 진행되는 것을 보장하기 위해 시스템이 충족해야 하는 일련의 속성
    
###  교착상태에 대해 설명해주세요
> 두 개 이상의 프로세스들이 대기 중인 프로세스들 중 하나에 의해서만 야기될 수 있는 이벤트를 무한정 기다리는 상태
    
### Readers-Writers 문제란?
> 다수의 reader와 writer에게 데이터가 공유되는데 여러 개의 reader가 공유 데이터를 읽는 것은 문제가 없지만 writer가 공유 데이터를 수정할 때 다른 프로세스가 공유 데이터에 접근하면 문제가 발생할 수 있다. 따라서 이러한 문제가 발생하지 않도록 writer가 쓰기 작업을 하기 위해서는 공유 데이터에 대해 배타적 접근 권한을 가지도록 해야 한다.
    
###  식사하는 철학자 문제 해결 방법에는 무엇이 있나요?
> - 젓가락의 수보다 철학자의 수가 적게 앉도록 한다.
> - 한 철학자가 젓가락 두 개를 모두 집을 수 있을 때만 젓가락을 집도록 허용한다.
> - 홀수 번째 철학자는 왼쪽 젓가락 먼저, 짝수 번째 철학자는 오른쪽 젓가락 먼저 집도록 한다.

### 프로세스의 자원 사용 과정에 대해 설명해주세요
> 1. 자원 요청
> 2. 자원 사용
> 3. 자원 방출

###  라이브락이란?
> 두 개 이상의 스레드가 작업을 진행하는 것을 서로 방해하는 것. 스레드가 실패한 행동을 계속 시도할 때 발생한다.
    
###  교착상태가 되기 위한 조건
> 상호배제 : 최소 하나의 자원이 비공유 모드로 점유되어야 한다.
>
> 점유하며 대기 : 스레드는 최소한 하나의 자원을 점유한 채 현재 다른 스레드에 의해 점유된 자원을 추가로얻기 위해 반드시 대기해야 함
>
> 비선점 : 자원들을 선점할 수 없어야 한다.
>
> 순환 대기 : 대기 중인 스레드들이 자원에 대해 순환 구조를 이루어야 한다.
    
###  교착 상태 해결 방법
> 예방 : 교착 상태가 발생하기 위해 필요한 네 가지 조건 중 최소한 하나가 성립하지 않도록 만들어 교착 상태가 발생하지 않는 것을 보장한다.
> - 상호 배제 - 모두 공유 가능하도록
> - 점유하며 대기 - 스레드가 자원을 가지는 동안 다른 자원을 갖지 못하도록 보장
> - 비선점 - 선점 허용
> - 순환 대기 - 자원 요청에 순서를 정함

> 회피 : 스레드가 자원을 어떻게 요청하고 할당 받을 것인지 정보를 미리 파악하여 교착 상태가 발생할만한 상황을 피하는 것 → 안전 상태인지를 확인
>
> 데드락 무시
>
> 데드락 탐지 및 복구

# 조민서
### 경쟁 상황에 대해 설명해주세요.
> 여러 프로세스가 공유 자원에 동시에 접근할 때 실행 순서에 따라 실행 결과가 달라질 수 있는 상황입니다.

### 임계 구역에 대해 설명해주세요.
>임계영역은 공유 데이터가 조작될 수 있으며, 경쟁 상황이 발생할 수 있는 코드영역입니다. 임계영역 문제는 데이터를 협력적으로 공유하기 위하여 각 프로세스의 활동을 동기화하는 프로토콜을 설계해야합니다.
>
#### 임계 영역 문제를 해결하기 위해서는 아래의 3가지 조건을 충족해야 합니다.
>상호배제(Mutual exclusion) : 특정 프로세스가 임계영역 내에서 실행중일 때, 다른 프로세스는 임계영역에 들어갈 수 없다.
>
진행(progress) : 임계영역를 진행 중인 프로세스가 없을 경우에, 임계영역에 진입을 요구할 경우 유한한 시간내에 진입해야한다. 정당한 진입 프로세스를 막으면 안된다.
>
>한정된 대기(bounded waiting) : 임계영역에 대한 진입의 요청을 했을 경우, 무한히 기다리지 않고 유한한 시간내에 진입해야한다.


### 임계구역 문제를 해결하기 위한 지원을 제공하는 세 가지 하드웨어 명령어가 무엇인가요? 그리고 세 가지를 설명해 주세요.
> 메모리 장벽, comapre and swap, 원자적 변수입니다.
>
>메모리 장벽은 다중프로세서에서 한 프로세스가 메모리를 변경하고 다른 프로세서의 프로세스 메모리가 바로 변경되지 않아 데이터 일관성 문제가 발생하는데 로직 사이에 메모리 장벽을 두어 다른 프로세서에서 실행 중인 프로세스에 변경된 메모리 값이 보이는 것을 보장해 줍니다.
>
>

>
>

### 피터슨 해결안이 현대 컴퓨터에서 사용하기 힘든 이유는 무엇입니까?
>피터슨 해결안은 하나의 프로세스당 true또는 false의 값을 가질 수 있으므로 시간복잡도가 O(2^프로세스)이다. 배열의 크기가 2 즉 프로세스가 2개면 상관없지만 배열의 크기가 64(프로세스 64개)만 되더라도 O(2^64)로 시간 복잡도가 기하급수적으로 증가한다. 또한 2개가 아니라 여러 개의 프로세스를 소프트웨어적으로 병렬 프로그래밍하기는 쉽지 않다. 따라서 현대 컴퓨터에서 사용하기 힘들다.

### 뮤텍스 락이란 무엇입니까?
>프로세스 혹은 스레드 간의 통신 시에 shared memory 등을 쓰는 경우 하나의 자원에 두 개 이상의 프로세스 혹은 스레드가 접근하는 경우에 문제가 발생한다. 이를 제어하기위해 스레드는 뮤텍스를 사용하고, 프로세스에서는 세마포어를 사용한다.
>
> 뮤텍스 : 상호배제라고도 하며, Critical Section을 가진 스레드의 Running Time이 서로 겹치지 않도록 각각 단독으로 실행하게 하는 기술이다. 뮤텍스는 상태가 0, 1 두개 뿐인 이진 세마포어. synchronized 또는 lock을 통해 해결한다.

### 세마포어란 무엇입니까?
> 세마포어는 사용중인 리소스를 잠그는 데 사용되는 보호 된 변수 또는 추상 데이터 유형이다. 공유된 자원의 데이터를 여러 '프로세스'에서 접근하는 것을 막는다. 세마포어의 값은 공통 자원의 상태를 나타냅니다. 리소스 상태를 나타내는 간단한 카운터이다. 공유 리소스에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근하여 사용할 수 있다.

### 뮤텍스락과 세마포어의 차이점에 대해 설명해주세요.
>뮤텍스는 Lock을 사용해 하나의 프로세스나 쓰레드를 단독으로 실행하게 합니다.
반면에 세마포어는 공유자원에 세마포어 변수만큼의 프로세스(또는 쓰레드)가 접근할 수 있습니다.
세마포어의 변수 → 공유자원의 개수를 나타내는 변수
>
>뮤텍스에서, 임계영역에 진입해야하는 프로세스는 진입 코드를 계속 반복 실행해야 하며, CPU시간을 낭비했었다. 일반적인 Semaphore에서 Critical Section 에 진입을 시도했지만, 실패한 프로세스에 대해 Block 시킨 뒤, Critical Section에 자리가 날 때 다시 깨우는 방식을 사용하여 시간낭비 문제를 해결한다.
>
>0과 1의 값만 갖는 세마포어 → 이진 세마포어(binary semaphore) (= 뮤텍스)
도메인 제한이 없는 세마포어(0,1 뿐만아니라 2,3,4 등의 값들 또한 가질 수 있는) → 카운팅 세마포어(counting semaphore)


### 모니터기법이 무엇인지 설명해주세요.


### 다중코어시스템에서 스핀락을 어떤 경우에 사용할 수 있나요?

> 대기중인 스레드가 실행상태가 되기 위해서는 두번의 문맥교환을 합니다. 
>하나는 실행중인 스레드를 대기상태로 옮기는 문맥교환
>두번째는 대기중인 스레드를 실행상태로 옮기는 문맥교환
>
>이 2개의 문맥교환 시간보다 락 유지시간이 짧으면 다중처리시템에서 실제로 스핀락을 사용하기도 합니다. 하지만 단일처리 시스템인 경우 스레드가 무한대기가 일어 날 수 있으므로 스핀락을 사용해서는 안됩니다.

### Deadlock(교착 상태)이 무엇인지 설명해 주세요.
>레디큐에 프로세스가 있고, 둘 이상의 프로세스가 임계 영역 진입을 무한정 기다리는 상태입니다. 임계 영역에서 실행되는 프로세스는 진입 대기 중인 프로세스가 실행되어야만 빠져나올 수 있는 상황을 지칭합니다.

### 교착 상태 해결 방법을 설명해 주세요.

>#### 데드락 4가지 조건들 중 하나라도 제거하면 된다. 예방, 회피, 탐지, 복구방법이 있다.
>
>공유 자원 중 많은 경우가 한 번에 한 프로세스만 사용할 수 있기 때문에 상호배제 조건은 제거하기 어렵다. 대부분의 교착상태 방지 알고리즘은 순환대기가 발생하는 일을 막는데 초점이 맞춰져 있다.
>
>
1. 예방(Prevention) : 교착상태가 발생하지 않도록 하는 것 (상호배제, 점유와대기, 비선점, 순환대기중 하나를 제거해야함, 일반적으로 실용적인 순환대기 사이클을없앰)
>
>
2. 회피(Avoidance) : 교착상태를 피하는 것. Ex) 자원 할당 그래프 알고리즘, 은행원 알고리즘
>
>
>3. 탐지(Detection) : 교착상태가 발생하면 탐지 하는 것, 복구를 수반
>
>
>4. 복구(Recovery) : 프로세스 중지, 자원 선점(희생자의 선택 -> 기아, 복귀)

### 은행원 알고리즘(Banker Algorithm) 에 대해 설명하세요.
>데드락을 처리하기 위한 방법 중 `회피`에 해당하는 알고리즘입니다. 데드락이 발생할지 예측하여 데드락에 빠질 수 있는 상태를 불안전 상태, 데드락에 빠질 수 없는 상태를 안전 상태로 구분하고, 운영체제는 이러한 `안전 상태인 경우에만 요청을 허락하여 자원을 할당`해주고, 나머지 요구들은 안전 상태가 될 때까지 계속 거절하는 알고리즘입니다.
>
>즉, 은행원 알고리즘은 `은행은 최소한 한 명에게 대출해줄 수 있는 돈을 가지고 있어야 한다`는 뜻에서 나왔으며, 운영체제가 최소한 하나의 프로세스가 일을 수행할 수 있는 경우에만 요청을 허락하여 시스템의 자원을 할당해주는 것과 같습니다.

### 데드락을 특징짓는 4가지 필수조건을 설명해 주세요.
>`상호 배제(Mutual Exclusion)` : 한 자원에 대한 여러 프로세스의 동시 접근은 불가능하다. 즉, 하나의 자원을 특정 시기에 하나의 프로세스나 스레드만 소유할 수 있는 형태. (임계영역에는 한개의 프로세스만 들어갈 수 있음)
>
`점유와 대기(Hold and Wait)` : 하나의 자원을 소유하고 다른 프로세스 혹은 스레드의 자원을 요청하는 상태이다. (식사하는 철학자 문제에서 철학자 5명이 모두 왼쪽 포크를 들고 오른쪽 포크를 기다림)
>
`비선점(Non preemptive)`  : 하나의 프로세스나 스레드에게 주어진 자원은 해당 프로세스나 스레드가 스스로 놓기 전에는 놓게 만들 수 없는 상태. 즉, 다른 프로세스에서 자원을 사용하는 동안 자원을 강제로 가져올 수 없다. (선점 스케줄링, 비선점 스케줄링을 생각해보면 됨)
>
`순환대기(Circle wait)` :  각 프로세스가 다음 프로세스가 요구하는 자원을 가지고 있는 것을 말한다. 두 개의 프로세스나 스레드의 경우, A -> B, B -> C, C -> A 에게 서로 자원을 요청하고 기다리는 상황 (사이클)


### 데드락을 예방 할 수 있는 방법을 설명해주세요.
>우선 데드락 발생조건은 상호배제, 점유하며 대기, 비선점, 순환 대기 조건이 모두 성립되는 경우로 데드락 예방은 이 4개 중 하나라도 제거하면 됩니다.
>
>`상호배제 조건을 제거하기 위해서는` `자원 공유가 없어야 한다.`입니다. 하지만 멀티 스레드 뮤텍스락은 여러 스레드의 자원을 공유할 수밖에 없습니다.
>
>`점유와 대기는 조건을 제거하기 위해서는` `스레드는 최소 하나의 자원을 점유한 채 현재 다른 스레드에 점유된 자원을 얻기 위해 대기하지 않아도 된다.`입니다. 일단 동기적으로 작동하기 때문에 효율이 좋지도 않고 스레드가 자원을 얻더라도 자원 이용률이 낮을 수 있고 여러 개의 자원을 한 스레드가 다 가져가면 `기아가 발생`할 수 있습니다.
>
>`비선점 조건을 제거하기 위해서는` `자원이 강제적으로 방출될 수 있어야 합니다.` 즉 A 스레드가 B 스레드에게 자원을 요청하면 B 스레드 자원은 A 스레드에게 방출됩니다. 이 형태는 데이터베이스 트랜잭션처럼 상태가 쉽게 저장되고 복원될 수 있는 자원에 종종 사용되지만 뮤텍스락과 세마포 같은 자원에는 일반적으로 적용하기가 쉽지 않습니다.
>
>이 3개의 조건을 제거하기는 일반적으로 실용적이지 않지만 순환 대기는 실용적입니다. 
`순환 대기 조건을 제거하기 위해서는` `자원 할당 그래프에서 사이클을 없애면 됩니다.`

### 자원 할당 그래프에서 각 자원 유형마다 인스턴스가 하나만 있는 경우 교착상태를 어떻게 찾나요?
> 각 자원 유형마다 인스턴스가 하나가 있는 경우 자원 할당 그래프를 변형한 대기 그래프(wait-for graph)를 사용하여 교착 상태를 탐지합니다.
![](https://velog.velcdn.com/images/minseojo/post/f6001d2a-11b3-4047-b897-22e2d90893cd/image.png)

>자원 할당 그래프에서 자원을 제거 후 간선들을 결합하여 대기 그래프로 표현을 할 수 있습니다.
대기 그래프에서 Pi → Pj는 프로세스 Pi가 Pj 프로세스가 보유하고 있는 자원을 기다리고 있음을 나타냅니다. `대기 그래프에 주기(cycle)가 있다면 교착 상태를 의미합니다.`



 ### 데드락을 탐지하기 위해 탐지 알고리즘을 돌려야 하는데 자원을 요청할 때마다 탐지 알고리즘을 호출하면 오버헤드가 너무 큰데 본인이라면 어떤 식으로 알고리즘을 호출하실 건가요?
> 지정된 시간 간격으로 예를 들어 한 시간에 한번 또는 CPU의 이용률이 40% 이하로 떨어질 때 탐지 알고리즘을 호출합니다. 하지만 이처럼 임의의 시간에 호출하면 자원 그래프는 여러 개의 사이클을 포함할 수 있습니다. 이 경우 어느 스레드가 교착 상태를 야기한 장본인 인지 알아낼 수 없게 됩니다.
>
> #### 꼬리 질문
**어느 스레드가 데드락의 장본인인지 알아낼 수 없으면 어떻게 하나요?**
시스템 로그 및 디버깅을 통해 데드락 요인을 찾고 관련 코드를 수정합니다.


### 데이터베이스에서는 데드락을 어떻게 관리하는지 설명해 주세요.
> 데이터베이스 시스템은 `공개 소스 소프트웨어와 상용 소프트웨어`가 데드락을 관리하는 방법을 보여줍니다.
>
> 데이터베이스 업데이트는 트랜잭션으로 수행될 수 있으며 데이터 무결성을 보장하기 위해 보통 `락이 사용`됩니다.
>
>
1. 대부분의 트랜잭션 데이터베이스 시스템은 데드락 감지 및 복구 기법을 가집니다. 데이터베이스 서버는 주기적으로 wait-for 그래프에서 사이클을 검색하여 트랜잭션 집합 내의 데드락을 감지합니다.
>
>
2. 데드락이 감지되면 희생양이 선택되고 트랜잭션이 중단되어 롤백 됩니다
>
>
3. 대상 트랜잭션이 보유한 락을 해제하고 나머지 트랜잭션을 데드락에서 벗어나게 합니다.
>
>
4. 데드락이 감지되면 희생양이 선택되고 트랜잭션이 중단되어 롤백 됩니다.
>
>
- 희생양 트랜잭션의 선택은 데이터베이스 시스템에 따라 다릅니다. 예를 들어, MySQL은 트랜잭션 삽입, 업데이트, 삭제의 최소 행인 상황을 감지합니다.

### 교착상태가 발생하면 탐지하고 회복해야 하는데 프로세스를 종료하는 방법과 자원을 선점하는 방법 두 가지가 있습니다. 자원을 선점하는 방법에대해 설명해주세요.
>비안전상태의 프로세스중에 선점할 프로세스를 정하고 어느 프로세스를 안전한 상태로 롤백 할지 희생자를 선택해야 합니다. 우선순위에 따라 희생자를 선택하는데 이때 계속 똑같은 프로세스가 희생자로 선택된다면 기아 상태가 발생하는 프로세스가 존재할 수 있습니다. 그래서 일반적으로 우선순위에 롤백 횟수 즉 희생된 횟수를 더합니다.


### 데드락이 발생했어요. 방안을 여러가지 말해주세요.
>데드락의 해결법을 크게 3가지로 분류할 수 있습니다.
>
>
>데드락이 발생하지 않도록 `예방 하기`
데드락 발생 가능성을 인정하면서도 적절하게 `회피 하기`
데드락 발생을 허용하지만 `데드락을 탐지하여, 데드락에서 회복하기`


# 이미르
